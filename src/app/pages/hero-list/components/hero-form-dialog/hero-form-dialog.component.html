<div class="heroFormDialog">
  <h2 mat-dialog-title>
    {{ isEditMode ? "Editar Héroe" : "Crear Nuevo Héroe" }}
  </h2>

  <form [formGroup]="heroForm" (ngSubmit)="onSubmit()">
    <mat-dialog-content class="heroFormDialog-content">
      <div class="heroFormDialog-content-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nombre del Héroe</mat-label>
          <input
            matInput
            formControlName="name"
            placeholder="Ej: Superman"
            maxlength="50"
            appUppercase
          />
          <mat-error *ngIf="nameControl?.hasError('minlength')">
            El nombre debe tener al menos 3 caracteres
          </mat-error>
          <mat-error *ngIf="nameControl?.hasError('maxlength')">
            El nombre no puede exceder 50 caracteres
          </mat-error>
        </mat-form-field>
      </div>

      <div class="heroFormDialog-content-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Poder Principal</mat-label>
          <input
            matInput
            formControlName="power"
            placeholder="Ej: Super Fuerza"
            maxlength="100"
          />
        </mat-form-field>
      </div>

      <div class="heroFormDialog-content-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Universo</mat-label>
          <mat-select formControlName="universe">
            <mat-option
              *ngFor="let universe of universes"
              [value]="universe.value"
            >
              {{ universe.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="heroFormDialog-content-row">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nivel de Poder</mat-label>
          <input
            matInput
            type="number"
            formControlName="level"
            placeholder="Ej: 85"
            min="1"
            max="100"
          />
          <mat-hint>Valor entre 1 y 100</mat-hint>
        </mat-form-field>
      </div>
    </mat-dialog-content>

    <mat-dialog-actions class="heroFormDialog-actions">
      <button
        mat-button
        type="button"
        (click)="onCancel()"
        class="heroFormDialog-actions-cancelButton"
      >
        Cancelar
      </button>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="heroForm.invalid"
        class="heroFormDialog-actions-submitButton"
      >
        {{ isEditMode ? "Actualizar" : "Crear" }}
      </button>
    </mat-dialog-actions>
  </form>
</div>
